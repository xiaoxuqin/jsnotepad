var fontfun={fontshow:function(){$("#jsnotepad").append('<div class="font" id="fontbox"><div class="fontbox"><div class="titlebar"><p class="title">字体</p><span id="close-btn">✖</span></div><div class="main"><div class="font_family"><p>字体(F):</p></div><div class="font_style"><p>字形(Y):</p></div><div class="font_size"><p>大小(S):</p></div><div class="font_list1"><input type="text" class="change" id="ffamily"><ul class="list" id="fontfamilylist"><li>等线</li><li>方正粗黑宋简体</li><li>方正兰亭超细黑简体</li><li>方正舒体</li><li>方正姚体</li><li>仿宋</li><li>黑体</li><li>华文彩云</li><li>华文行楷</li><li>微软雅黑</li><li>幼圆</li><li>隶书</li><li>Agency FB</li><li>Algerian</li><li>Arial</li><li>Arial Rounded MT</li><li>Axure Handwriting</li><li>Bahnschrift</li><li>Baskerville Old Face</li><li>Bauhaus 93</li><li>Bell MT</li><li>Berlin Sans FB</li><li>Bernard MT</li><li>BlackAdder ITC</li></ul></div><div class="font_list2"><input type="text" class="change" id="fstyle"><ul class="list" id="fontstylelist"><li>常规</li><li>斜体</li><li>粗体</li><li>粗偏斜体</li></ul></div><div class="font_list3"><input type="text" class="change" id="fsize"><ul class="list" id="fontsizelist"><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>14</li><li>16</li><li>18</li><li>20</li><li>22</li><li>24</li><li>26</li><li>28</li><li>36</li><li>48</li><li>72</li></ul></div><fieldset class="sample"><legend>示例</legend><p id="fontexample">微软中文软件</p></fieldset><div class="script"><label>脚本(R):<br><select id="languageselect"><option value="AaBbYyZz">中文 GB2312</option><option value="西欧语言">西欧语言</option></select></label></div><input class="btn ok" id="okbtn" type="button" value="确定"><input class="btn cancel" id="cancelbtn" type="button" value="取消"></div></div></div>');var t=document.getElementById("fontfamilylist").children,i=document.getElementById("fontstylelist").children,n=document.getElementById("fontsizelist").children,o=document.getElementById("fontexample"),e=document.getElementById("ffamily"),s=document.getElementById("fstyle"),a=document.getElementById("fsize"),c=document.getElementById("languageselect"),l=document.getElementById("close-btn"),d=document.getElementById("fontbox"),y=document.getElementById("cancelbtn"),r=document.getElementById("textplace");function f(l,e){l[e].parentNode.parentNode.getElementsByClassName("change")[0].style.backgroundColor="rgb(0, 120, 215)",l[e].parentNode.parentNode.getElementsByClassName("change")[0].style.color="white";for(var t=0;t<l.length;t++)t==e?(l[t].style.backgroundColor="rgb(0, 120, 215)",l[t].style.color="white"):(l[t].style.backgroundColor="white",l[t].style.color="black")}function u(l){l[0].parentNode.parentNode.getElementsByClassName("change")[0].style.backgroundColor="white",l[0].parentNode.parentNode.getElementsByClassName("change")[0].style.color="black"}$("#fontbox").draggable(),d.style.display="none",e.value=window.getComputedStyle(o).fontFamily,s.value="常规",r.style.fontFamily="隶书",r.style.fontWeight="normal",r.style.fontStyle="normal",r.style.fontSize="24px",a.value=window.getComputedStyle(o).fontSize.slice(0,-2);for(var m=0;m<t.length;m++)t[m].onclick=function(l){return function(){f(t,l),u(i),u(n),e.value=t[l].innerHTML,o.style.fontFamily=t[l].innerHTML}}(m);for(var g=0;g<i.length;g++)i[g].onclick=function(e){return function(){f(i,e),u(t),u(n);var l=i[e].innerHTML;s.value=i[e].innerHTML,"常规"==l?(o.style.fontStyle="normal",o.style.fontStyle="normal"):"斜体"==l?(o.style.fontWeight="normal",o.style.fontStyle="italic"):"粗体"==l?(o.style.fontWeight="bold",o.style.fontStyle="normal"):"粗偏斜体"==l&&(o.style.fontWeight="bold",o.style.fontStyle="italic")}}(g);for(var p=0;p<n.length;p++)n[p].onclick=function(l){return function(){f(n,l),u(t),u(i),a.value=n[l].innerHTML,o.style.fontSize=n[l].innerHTML+"px"}}(p);c.onclick=function(){var l=c.options[c.selectedIndex].text;"中文 GB2312"==l?o.innerHTML="微软中文软件":"西欧语言"==l&&(o.innerHTML="AaBbYyZz")},l.onclick=function(){d.style.display="none"},y.onclick=function(){d.style.display="none"}}};